# Penetration Testing Guide - Portfolio Application
## Using Kali Linux for Security Assessment

**Target**: https://portfolio-app-with-authentication-756m80c9a.vercel.app  
**Authorization**: Self-assessment (Own Application)  
**Date**: November 28, 2025

---

## ‚ö†Ô∏è Legal Disclaimer

**IMPORTANT**: You are authorized to test ONLY your own application. Never perform penetration testing on systems you don't own or have explicit written permission to test. Unauthorized access is illegal.

---

## üîß Prerequisites

### Kali Linux Setup
```bash
# Update system
sudo apt update && sudo apt upgrade -y

# Install required tools (most come pre-installed)
sudo apt install -y \
    nmap \
    nikto \
    sqlmap \
    burpsuite \
    zaproxy \
    metasploit-framework \
    wpscan \
    dirb \
    gobuster \
    hydra \
    john \
    curl \
    wget
```

---

## üìã Testing Phases

### Phase 1: Information Gathering (Reconnaissance)

#### 1.1 DNS Enumeration
```bash
# Get domain information
nslookup portfolio-app-with-authentication-756m80c9a.vercel.app
dig portfolio-app-with-authentication-756m80c9a.vercel.app ANY

# Check subdomains (if you have your own domain)
amass enum -d yourdomain.com
```

#### 1.2 Port Scanning
```bash
# Basic port scan
nmap -sV portfolio-app-with-authentication-756m80c9a.vercel.app

# Comprehensive scan
nmap -sS -sV -A -O -p- portfolio-app-with-authentication-756m80c9a.vercel.app

# Save results
nmap -sV -oN nmap_results.txt portfolio-app-with-authentication-756m80c9a.vercel.app
```

#### 1.3 Technology Detection
```bash
# Identify web technologies
whatweb https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Check HTTP headers
curl -I https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Detailed header analysis
curl -v https://portfolio-app-with-authentication-756m80c9a.vercel.app
```

---

### Phase 2: Vulnerability Scanning

#### 2.1 Web Application Scanner (Nikto)
```bash
# Basic scan
nikto -h https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Comprehensive scan with output
nikto -h https://portfolio-app-with-authentication-756m80c9a.vercel.app \
    -o nikto_report.html -Format html

# Check for specific vulnerabilities
nikto -h https://portfolio-app-with-authentication-756m80c9a.vercel.app \
    -Tuning 123456789
```

#### 2.2 Directory Enumeration
```bash
# Find hidden directories
dirb https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Alternative tool (faster)
gobuster dir \
    -u https://portfolio-app-with-authentication-756m80c9a.vercel.app \
    -w /usr/share/wordlists/dirb/common.txt

# Custom wordlist
gobuster dir \
    -u https://portfolio-app-with-authentication-756m80c9a.vercel.app \
    -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt \
    -t 50
```

#### 2.3 OWASP ZAP (GUI or CLI)
```bash
# Start ZAP in daemon mode
zap.sh -daemon -port 8080 -config api.key=changeme

# Quick scan
zap-cli quick-scan https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Full scan
zap-cli active-scan https://portfolio-app-with-authentication-756m80c9a.vercel.app
zap-cli report -o zap_report.html -f html
```

---

### Phase 3: Authentication & Authorization Testing

#### 3.1 Clerk OAuth Testing
```bash
# Test authentication bypass
# Try accessing protected routes without authentication
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/dashboard

# Test with invalid tokens
curl -H "Authorization: Bearer invalid_token" \
    https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/monitoring
```

#### 3.2 Session Management
```bash
# Test session cookies
# 1. Sign in and capture cookies
# 2. Test cookie manipulation

# Check cookie security
curl -v https://portfolio-app-with-authentication-756m80c9a.vercel.app \
    | grep -i "set-cookie"
```

#### 3.3 Admin Access Control
```bash
# Test admin-only routes with non-admin account
# Expected: 403 Forbidden or redirect

# Test /monitor endpoint
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/monitor

# Test /security-plan endpoint
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/security-plan

# Test /testing endpoint
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/testing
```

---

### Phase 4: SQL Injection Testing

#### 4.1 Manual Testing
```bash
# Test SQL injection in forms (if any)
# Common payloads:
' OR '1'='1
' OR '1'='1'--
' OR '1'='1'/*
admin'--
' UNION SELECT NULL--
```

#### 4.2 Automated SQLMap
```bash
# Test API endpoints for SQL injection
sqlmap -u "https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/newsletter" \
    --data="email=test@example.com" \
    --batch

# Test with authentication
sqlmap -u "https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/test" \
    --cookie="session_cookie_here" \
    --batch \
    --level=5 \
    --risk=3
```

**Expected Result**: All SQL injection attempts should be blocked by Arcjet Shield.

---

### Phase 5: XSS (Cross-Site Scripting) Testing

#### 5.1 Reflected XSS
```bash
# Test XSS in URL parameters
curl "https://portfolio-app-with-authentication-756m80c9a.vercel.app?search=<script>alert('XSS')</script>"

# Test with event handlers
curl "https://portfolio-app-with-authentication-756m80c9a.vercel.app?name=<img src=x onerror=alert('XSS')>"
```

#### 5.2 Stored XSS
Test in forms that save data:
- Newsletter subscription
- Contact forms
- User profile updates

Payloads:
```javascript
<script>alert('XSS')</script>
<img src=x onerror=alert('XSS')>
<svg onload=alert('XSS')>
<iframe src="javascript:alert('XSS')">
```

**Expected Result**: All XSS attempts should be sanitized or blocked.

---

### Phase 6: Rate Limiting & DDoS Testing

#### 6.1 Rate Limit Testing
```bash
# Send 150 requests in quick succession
for i in {1..150}; do
    curl -s https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/test &
done

# Monitor for 429 (Too Many Requests) responses
```

#### 6.2 Slowloris Attack (Test only in authorized environment)
```bash
# Low and slow attack
slowhttptest -c 1000 -H -g -o slowloris_results \
    -i 10 -r 200 -t GET \
    -u https://portfolio-app-with-authentication-756m80c9a.vercel.app
```

**Expected Result**: After 100 requests/minute, you should receive 429 errors.

---

### Phase 7: Security Header Analysis

#### 7.1 Check Security Headers
```bash
# Manual check
curl -I https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Automated check with securityheaders.com
curl "https://securityheaders.com/?q=https://portfolio-app-with-authentication-756m80c9a.vercel.app&followRedirects=on"
```

#### 7.2 Expected Headers
- ‚úÖ Strict-Transport-Security
- ‚úÖ X-Frame-Options
- ‚úÖ X-Content-Type-Options
- ‚úÖ Content-Security-Policy
- ‚úÖ Referrer-Policy
- ‚úÖ Permissions-Policy

---

### Phase 8: Bot Detection Testing

#### 8.1 Test with Different User Agents
```bash
# Normal browser
curl -A "Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0" \
    https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Python bot (should be blocked)
curl -A "python-requests/2.31.0" \
    https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Scraper (should be blocked)
curl -A "Scrapy/2.11.0" \
    https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Googlebot (should be allowed)
curl -A "Googlebot/2.1" \
    https://portfolio-app-with-authentication-756m80c9a.vercel.app
```

**Expected Result**: Scrapers blocked (403), search engines allowed (200).

---

### Phase 9: API Security Testing

#### 9.1 Test API Endpoints
```bash
# Test without authentication
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/monitoring

# Test /api/track endpoint
curl -X POST https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/track \
    -H "Content-Type: application/json" \
    -d '{"action":"page-view","data":{"page":"/"}}'

# Test /api/security-test endpoint
curl -X POST https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/security-test \
    -H "Content-Type: application/json" \
    -d '{"testType":"sql-injection"}'
```

#### 9.2 Test for API Vulnerabilities
```bash
# Test mass assignment
curl -X POST https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/test \
    -H "Content-Type: application/json" \
    -d '{"role":"admin","isAdmin":true}'

# Test parameter pollution
curl "https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/test?id=1&id=2"
```

---

### Phase 10: Monitoring & Tracking Evasion

#### 10.1 Test Privacy Controls
```bash
# Test if IP is properly masked
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/monitoring

# Check if email is hashed in responses
# Sign in and check monitoring data
```

#### 10.2 Test Tracker Bypass
```bash
# Disable JavaScript (tracker won't work)
curl https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Block localStorage
# Test in browser with localStorage disabled
```

---

## üìä Reporting Template

### Executive Summary
- Target: [URL]
- Testing Date: [Date]
- Tester: [Your Name]
- Overall Risk Level: [Low/Medium/High/Critical]

### Findings Summary
| Severity | Count | Remediated |
|----------|-------|------------|
| Critical | 0 | N/A |
| High | 0 | N/A |
| Medium | 0 | N/A |
| Low | X | Y |

### Detailed Findings

#### Finding 1: [Title]
- **Severity**: [Level]
- **Description**: [What was found]
- **Impact**: [Potential damage]
- **Proof of Concept**: [Steps to reproduce]
- **Recommendation**: [How to fix]
- **Status**: [Fixed/Open]

---

## üîç Expected Test Results

Based on your security implementation:

### ‚úÖ Should PASS (Protected):
- SQL Injection attempts ‚Üí Blocked by Arcjet Shield
- XSS attempts ‚Üí Sanitized/Blocked
- Rate limit bypass ‚Üí 429 after 100 req/min
- Bot scraping ‚Üí 403 Forbidden
- Admin routes without auth ‚Üí Redirect/401
- CSRF attacks ‚Üí Protected by tokens

### ‚ö†Ô∏è Potential Findings:
- Missing security headers (if any)
- Information disclosure in error messages
- Insecure direct object references
- Subdomain takeover (if using custom domain)

---

## üõ°Ô∏è Post-Testing Actions

1. **Document Everything**
   - Save all scan results
   - Screenshot findings
   - Create detailed report

2. **Remediate Issues**
   - Fix critical/high vulnerabilities immediately
   - Plan fixes for medium/low issues
   - Update security baseline

3. **Retest**
   - Verify fixes work
   - Run scans again
   - Update documentation

4. **Update Security Controls**
   - Adjust WAF rules if needed
   - Update rate limits
   - Enhance monitoring

---

## üöÄ Quick Start Commands

```bash
# Step 1: Basic reconnaissance
nmap -sV portfolio-app-with-authentication-756m80c9a.vercel.app
whatweb https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Step 2: Vulnerability scan
nikto -h https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Step 3: Test security controls
curl -I https://portfolio-app-with-authentication-756m80c9a.vercel.app

# Step 4: Test rate limiting
for i in {1..150}; do curl -s https://portfolio-app-with-authentication-756m80c9a.vercel.app & done

# Step 5: Test SQL injection protection
sqlmap -u "https://portfolio-app-with-authentication-756m80c9a.vercel.app/api/test" --batch

# Step 6: Generate report
# Compile all results into documentation
```

---

## üìö Additional Resources

- OWASP Testing Guide: https://owasp.org/www-project-web-security-testing-guide/
- Kali Linux Documentation: https://www.kali.org/docs/
- Burp Suite Tutorial: https://portswigger.net/burp/documentation
- OWASP Top 10: https://owasp.org/www-project-top-ten/

---

## ‚ö° Pro Tips

1. **Always get permission** before testing any system
2. **Document everything** - screenshots, commands, results
3. **Test in phases** - don't run all tests at once
4. **Monitor your target** - check /monitor page for your activity
5. **Be ethical** - don't exploit vulnerabilities maliciously
6. **Report responsibly** - document and fix issues properly

---

**Remember**: The goal is to IMPROVE security, not to break things. Test responsibly! üõ°Ô∏è
